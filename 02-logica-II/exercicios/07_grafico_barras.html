<canvas width="600" height="400"></canvas>

<script>
	
	function desenhaRetangulo(xi, yi, largura, altura, cor){


		var tela = document.querySelector("canvas");
		var pincel = tela.getContext("2d");

		pincel.fillStyle = cor;
		pincel.fillRect(xi, yi, largura, altura);
		pincel.fillStroke;
		pincel.strokeRect(xi, yi, largura, altura);

	}

	function desenhaTexto(texto, x, y){

		var tela = document.querySelector("canvas");
		var pincel = tela.getContext("2d");

		pincel.font = "15px Georgia";
		pincel.fillStyle = "black";
		pincel.fillText(texto, x, y);

	}

	var serie2015 = [50, 25, 20, 5];
	var serie2016 = [65, 20, 13, 2];
	var cores = ["blue", "green", "yellow", "red"];
	

	//var serie2015 = 50;
	//var cores = "blue";

	function desenhaBarra(x, y, serie, cores, texto){

		desenhaTexto(texto, x, (y - 10));

		for(var i = 0; i < serie.length; i++){

			desenhaRetangulo(x, y, 50, serie[i], cores[i]);
			desenhaTexto(serie[i] + "%", (x - 30), (y + 15));
			y = y + serie[i];

		}
		
		//desenhaRetangulo(x, y, 50, serie, cores);
		
	}

	desenhaBarra(50, 50, serie2015, cores, "2015");
	desenhaBarra(150, 50, serie2016, cores, "2016");

</script>